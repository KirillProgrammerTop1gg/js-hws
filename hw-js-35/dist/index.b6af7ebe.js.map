{"mappings":"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","sources":["<anon>","src/index.js","src/js/movie.js","src/js/moviesAPI.js"],"sourcesContent":["const $3442c778297ac6a6$export$59b84cfd1d3e3025 = ()=>fetch(\"http://localhost:1488/movies\").then((response)=>!response.ok ? console.error(`Error get movies, status code ${response.status}`) : response.json());\nconst $3442c778297ac6a6$export$a37e7f0c1a4cec52 = (id)=>fetch(`http://localhost:1488/movies/${id}`, {\n        method: \"DELETE\"\n    }).then((response)=>!response.ok ? console.error(`Error del movie, status code ${response.status}`) : response.json());\nconst $3442c778297ac6a6$export$cf3d6842122c45b6 = (newMovie)=>fetch(`http://localhost:1488/movies/`, {\n        method: \"POST\",\n        body: JSON.stringify(newMovie)\n    }).then((response)=>!response.ok ? console.error(`Error add movie, status code ${response.status}`) : response.json());\nconst $3442c778297ac6a6$export$e186af2ba2027272 = (id, updateMovie)=>fetch(`http://localhost:1488/movies/${id}`, {\n        method: \"PUT\",\n        body: JSON.stringify(updateMovie)\n    }).then((response)=>!response.ok ? console.error(`Error update movie, status code ${response.status}`) : response.json());\nconst $3442c778297ac6a6$export$7da0fb1ed463fb17 = (id, editMovie)=>fetch(`http://localhost:1488/movies/${id}`, {\n        method: \"PATCH\",\n        body: JSON.stringify(editMovie)\n    }).then((response)=>!response.ok ? console.error(`Error edit movie, status code ${response.status}`) : response.json());\n\n\nconst $164cf12502b3ee95$var$renderMovie = ()=>(0, $3442c778297ac6a6$export$59b84cfd1d3e3025)().then((movies)=>{\n        document.querySelector(\".movies\").innerHTML = \"\";\n        movies.forEach((movie)=>document.querySelector(\".movies\").innerHTML += `\r\n        <li class=\"movies__item\">\r\n            <h2 class=\"movies__title\">${movie.title}</h2>\r\n            <p class=\"movies__year\">${movie.year} year</p>\r\n            <p class=\"movies__director\">${movie.director}</p>\r\n            <p class=\"movies__genre\">${movie.genre}</p>\r\n            <div class=\"movies__buttons\">\r\n                <button class='movies__del' data-id=${movie.id}><svg version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"20px\" height=\"20px\" viewBox=\"0 0 729.837 729.838\" style=\"enable-background:new 0 0 729.837 729.838;\" xml:space=\"preserve\"><g>\t<g>\t\t<g>\t\t\t<path d=\"M589.193,222.04c0-6.296,5.106-11.404,11.402-11.404S612,215.767,612,222.04v437.476c0,19.314-7.936,36.896-20.67,49.653\t\t\t\tc-12.733,12.734-30.339,20.669-49.653,20.669H188.162c-19.315,0-36.943-7.935-49.654-20.669\t\t\t\tc-12.734-12.734-20.669-30.313-20.669-49.653V222.04c0-6.296,5.108-11.404,11.403-11.404c6.296,0,11.404,5.131,11.404,11.404\t\t\t\tv437.476c0,13.02,5.37,24.922,13.97,33.521c8.6,8.601,20.503,13.993,33.522,13.993h353.517c13.019,0,24.896-5.394,33.498-13.993\t\t\t\tc8.624-8.624,13.992-20.503,13.992-33.498V222.04H589.193z\"/>\t\t\t<path d=\"M279.866,630.056c0,6.296-5.108,11.403-11.404,11.403s-11.404-5.107-11.404-11.403v-405.07\t\t\t\tc0-6.296,5.108-11.404,11.404-11.404s11.404,5.108,11.404,11.404V630.056z\"/>\t\t\t<path d=\"M376.323,630.056c0,6.296-5.107,11.403-11.403,11.403s-11.404-5.107-11.404-11.403v-405.07\t\t\t\tc0-6.296,5.108-11.404,11.404-11.404s11.403,5.108,11.403,11.404V630.056z\"/>\t\t\t<path d=\"M472.803,630.056c0,6.296-5.106,11.403-11.402,11.403c-6.297,0-11.404-5.107-11.404-11.403v-405.07\t\t\t\tc0-6.296,5.107-11.404,11.404-11.404c6.296,0,11.402,5.108,11.402,11.404V630.056L472.803,630.056z\"/>\t\t\t<path d=\"M273.214,70.323c0,6.296-5.108,11.404-11.404,11.404c-6.295,0-11.403-5.108-11.403-11.404\t\t\t\tc0-19.363,7.911-36.943,20.646-49.677C283.787,7.911,301.368,0,320.73,0h88.379c19.339,0,36.92,7.935,49.652,20.669\t\t\t\tc12.734,12.734,20.67,30.362,20.67,49.654c0,6.296-5.107,11.404-11.403,11.404s-11.403-5.108-11.403-11.404\t\t\t\tc0-13.019-5.369-24.922-13.97-33.522c-8.602-8.601-20.503-13.994-33.522-13.994h-88.378c-13.043,0-24.922,5.369-33.546,13.97\t\t\t\tC278.583,45.401,273.214,57.28,273.214,70.323z\"/>\t\t\t<path d=\"M99.782,103.108h530.273c11.189,0,21.405,4.585,28.818,11.998l0.047,0.048c7.413,7.412,11.998,17.628,11.998,28.818\t\t\t\tv29.46c0,6.295-5.108,11.403-11.404,11.403h-0.309H70.323c-6.296,0-11.404-5.108-11.404-11.403v-0.285v-29.175\t\t\t\tc0-11.166,4.585-21.406,11.998-28.818l0.048-0.048C78.377,107.694,88.616,103.108,99.782,103.108L99.782,103.108z\t\t\t\t M630.056,125.916H99.782c-4.965,0-9.503,2.02-12.734,5.274L87,131.238c-3.255,3.23-5.274,7.745-5.274,12.734v18.056h566.361\t\t\t\tv-18.056c0-4.965-2.02-9.503-5.273-12.734l-0.049-0.048C639.536,127.936,635.021,125.916,630.056,125.916z\"/>\t\t</g>\t</g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>Delete</button>\r\n                <button class='movies__update' data-id=${movie.id}><svg xmlns=\"http://www.w3.org/2000/svg\"  viewBox=\"0 0 50 50\" width=\"15px\" height=\"15px\"><path d=\"M 43.125 2 C 41.878906 2 40.636719 2.488281 39.6875 3.4375 L 38.875 4.25 L 45.75 11.125 C 45.746094 11.128906 46.5625 10.3125 46.5625 10.3125 C 48.464844 8.410156 48.460938 5.335938 46.5625 3.4375 C 45.609375 2.488281 44.371094 2 43.125 2 Z M 37.34375 6.03125 C 37.117188 6.0625 36.90625 6.175781 36.75 6.34375 L 4.3125 38.8125 C 4.183594 38.929688 4.085938 39.082031 4.03125 39.25 L 2.03125 46.75 C 1.941406 47.09375 2.042969 47.457031 2.292969 47.707031 C 2.542969 47.957031 2.90625 48.058594 3.25 47.96875 L 10.75 45.96875 C 10.917969 45.914063 11.070313 45.816406 11.1875 45.6875 L 43.65625 13.25 C 44.054688 12.863281 44.058594 12.226563 43.671875 11.828125 C 43.285156 11.429688 42.648438 11.425781 42.25 11.8125 L 9.96875 44.09375 L 5.90625 40.03125 L 38.1875 7.75 C 38.488281 7.460938 38.578125 7.011719 38.410156 6.628906 C 38.242188 6.246094 37.855469 6.007813 37.4375 6.03125 C 37.40625 6.03125 37.375 6.03125 37.34375 6.03125 Z\"/></svg>Update</button>\r\n                <button class='movies__edit' data-id=${movie.id}><svg xmlns=\"http://www.w3.org/2000/svg\"  viewBox=\"0 0 50 50\" width=\"15px\" height=\"15px\"><path d=\"M 43.125 2 C 41.878906 2 40.636719 2.488281 39.6875 3.4375 L 38.875 4.25 L 45.75 11.125 C 45.746094 11.128906 46.5625 10.3125 46.5625 10.3125 C 48.464844 8.410156 48.460938 5.335938 46.5625 3.4375 C 45.609375 2.488281 44.371094 2 43.125 2 Z M 37.34375 6.03125 C 37.117188 6.0625 36.90625 6.175781 36.75 6.34375 L 4.3125 38.8125 C 4.183594 38.929688 4.085938 39.082031 4.03125 39.25 L 2.03125 46.75 C 1.941406 47.09375 2.042969 47.457031 2.292969 47.707031 C 2.542969 47.957031 2.90625 48.058594 3.25 47.96875 L 10.75 45.96875 C 10.917969 45.914063 11.070313 45.816406 11.1875 45.6875 L 43.65625 13.25 C 44.054688 12.863281 44.058594 12.226563 43.671875 11.828125 C 43.285156 11.429688 42.648438 11.425781 42.25 11.8125 L 9.96875 44.09375 L 5.90625 40.03125 L 38.1875 7.75 C 38.488281 7.460938 38.578125 7.011719 38.410156 6.628906 C 38.242188 6.246094 37.855469 6.007813 37.4375 6.03125 C 37.40625 6.03125 37.375 6.03125 37.34375 6.03125 Z\"/></svg>Edit</button>\r\n            </div>\r\n        </li>\r\n    `);\n    });\n$164cf12502b3ee95$var$renderMovie();\ndocument.querySelector(\".movies\").addEventListener(\"click\", (e)=>e.target.closest(\".movies__del\") !== null ? (0, $3442c778297ac6a6$export$a37e7f0c1a4cec52)(e.target.dataset.id).then((delMovie)=>$164cf12502b3ee95$var$renderMovie()) : null);\ndocument.querySelector(\".addMovies__button\").addEventListener(\"click\", (e)=>{\n    e.preventDefault();\n    if (document.querySelector(\".addMovies\").checkValidity()) (0, $3442c778297ac6a6$export$59b84cfd1d3e3025)().then((movies)=>(0, $3442c778297ac6a6$export$cf3d6842122c45b6)({\n            title: document.querySelector(\".addMovies__title\").value,\n            year: Number(document.querySelector(\".addMovies__year\").value),\n            director: document.querySelector(\".addMovies__director\").value,\n            genre: document.querySelector(\".addMovies__genre\").value,\n            id: String(movies.length + 1)\n        }).then(()=>$164cf12502b3ee95$var$renderMovie()));\n    else document.querySelector(\".addMovies\").reportValidity();\n});\ndocument.querySelector(\".movies\").addEventListener(\"click\", (e)=>e.target.closest(\".movies__update\") !== null ? (document.querySelector(\".updateMovies__form\").setAttribute(\"data-id\", e.target.dataset.id), document.querySelector(\".backdrop[data-overlay-updateMovie]\").classList.toggle(\"is-hidden\")) : null);\ndocument.querySelector(\".updateMovies__button\").addEventListener(\"click\", (e)=>{\n    e.preventDefault();\n    if (document.querySelector(\".updateMovies__form\").checkValidity()) (0, $3442c778297ac6a6$export$e186af2ba2027272)(document.querySelector(\".updateMovies__form\").dataset.id, {\n        year: Number(document.querySelector(\".updateMovies__year\").value),\n        title: document.querySelector(\".updateMovies__titl\").value,\n        director: document.querySelector(\".updateMovies__director\").value,\n        genre: document.querySelector(\".updateMovies__genre\").value\n    }).then(()=>($164cf12502b3ee95$var$renderMovie(), document.querySelector(\".updateMovies__form\").removeAttribute(\"data-id\"), document.querySelector(\".backdrop[data-overlay-updateMovie]\").classList.toggle(\"is-hidden\")));\n    else document.querySelector(\".updateMovies__form\").reportValidity();\n});\ndocument.querySelector(\".updateMovies__close[data-close-updateMovie]\").addEventListener(\"click\", (e)=>(document.querySelector(\".updateMovies__form\").removeAttribute(\"data-id\"), document.querySelector(\".backdrop[data-overlay-updateMovie]\").classList.toggle(\"is-hidden\")));\ndocument.querySelector(\".movies\").addEventListener(\"click\", (e)=>e.target.closest(\".movies__edit\") !== null ? (document.querySelector(\".editMovies__form\").setAttribute(\"data-id\", e.target.dataset.id), document.querySelector(\".backdrop[data-overlay-editMovie]\").classList.toggle(\"is-hidden\")) : null);\ndocument.querySelector(\".editMovies__button\").addEventListener(\"click\", (e)=>{\n    e.preventDefault();\n    if (document.querySelector(\".editMovies__form\").checkValidity()) {\n        const data = {\n            year: Number(document.querySelector(\".editMovies__year\").value),\n            title: document.querySelector(\".editMovies__titl\").value,\n            director: document.querySelector(\".editMovies__director\").value,\n            genre: document.querySelector(\".editMovies__genre\").value\n        };\n        const editData = {};\n        Object.keys(data).forEach((key)=>data[key] ? editData[key] = data[key] : null);\n        (0, $3442c778297ac6a6$export$7da0fb1ed463fb17)(document.querySelector(\".editMovies__form\").dataset.id, editData).then(()=>($164cf12502b3ee95$var$renderMovie(), document.querySelector(\".editMovies__form\").removeAttribute(\"data-id\"), document.querySelector(\".backdrop[data-overlay-editMovie]\").classList.toggle(\"is-hidden\")));\n    } else document.querySelector(\".editMovies__form\").reportValidity();\n});\ndocument.querySelector(\".editMovies__close[data-close-editMovie]\").addEventListener(\"click\", (e)=>(document.querySelector(\".editMovies__form\").removeAttribute(\"data-id\"), document.querySelector(\".backdrop[data-overlay-editMovie]\").classList.toggle(\"is-hidden\")));\n\n\n\n\n//# sourceMappingURL=index.b6af7ebe.js.map\n","import './js/movie.js';","import { getMovieFetch, delMovieFetch, addMovieFetch, updateMovieFetch, editMovieFetch } from './moviesAPI.js';\r\n\r\nconst renderMovie = () => getMovieFetch().then(movies => {\r\n    document.querySelector('.movies').innerHTML = '';\r\n    movies.forEach(movie => document.querySelector('.movies').innerHTML += `\r\n        <li class=\"movies__item\">\r\n            <h2 class=\"movies__title\">${movie.title}</h2>\r\n            <p class=\"movies__year\">${movie.year} year</p>\r\n            <p class=\"movies__director\">${movie.director}</p>\r\n            <p class=\"movies__genre\">${movie.genre}</p>\r\n            <div class=\"movies__buttons\">\r\n                <button class='movies__del' data-id=${movie.id}><svg version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"20px\" height=\"20px\" viewBox=\"0 0 729.837 729.838\" style=\"enable-background:new 0 0 729.837 729.838;\" xml:space=\"preserve\"><g>\t<g>\t\t<g>\t\t\t<path d=\"M589.193,222.04c0-6.296,5.106-11.404,11.402-11.404S612,215.767,612,222.04v437.476c0,19.314-7.936,36.896-20.67,49.653\t\t\t\tc-12.733,12.734-30.339,20.669-49.653,20.669H188.162c-19.315,0-36.943-7.935-49.654-20.669\t\t\t\tc-12.734-12.734-20.669-30.313-20.669-49.653V222.04c0-6.296,5.108-11.404,11.403-11.404c6.296,0,11.404,5.131,11.404,11.404\t\t\t\tv437.476c0,13.02,5.37,24.922,13.97,33.521c8.6,8.601,20.503,13.993,33.522,13.993h353.517c13.019,0,24.896-5.394,33.498-13.993\t\t\t\tc8.624-8.624,13.992-20.503,13.992-33.498V222.04H589.193z\"/>\t\t\t<path d=\"M279.866,630.056c0,6.296-5.108,11.403-11.404,11.403s-11.404-5.107-11.404-11.403v-405.07\t\t\t\tc0-6.296,5.108-11.404,11.404-11.404s11.404,5.108,11.404,11.404V630.056z\"/>\t\t\t<path d=\"M376.323,630.056c0,6.296-5.107,11.403-11.403,11.403s-11.404-5.107-11.404-11.403v-405.07\t\t\t\tc0-6.296,5.108-11.404,11.404-11.404s11.403,5.108,11.403,11.404V630.056z\"/>\t\t\t<path d=\"M472.803,630.056c0,6.296-5.106,11.403-11.402,11.403c-6.297,0-11.404-5.107-11.404-11.403v-405.07\t\t\t\tc0-6.296,5.107-11.404,11.404-11.404c6.296,0,11.402,5.108,11.402,11.404V630.056L472.803,630.056z\"/>\t\t\t<path d=\"M273.214,70.323c0,6.296-5.108,11.404-11.404,11.404c-6.295,0-11.403-5.108-11.403-11.404\t\t\t\tc0-19.363,7.911-36.943,20.646-49.677C283.787,7.911,301.368,0,320.73,0h88.379c19.339,0,36.92,7.935,49.652,20.669\t\t\t\tc12.734,12.734,20.67,30.362,20.67,49.654c0,6.296-5.107,11.404-11.403,11.404s-11.403-5.108-11.403-11.404\t\t\t\tc0-13.019-5.369-24.922-13.97-33.522c-8.602-8.601-20.503-13.994-33.522-13.994h-88.378c-13.043,0-24.922,5.369-33.546,13.97\t\t\t\tC278.583,45.401,273.214,57.28,273.214,70.323z\"/>\t\t\t<path d=\"M99.782,103.108h530.273c11.189,0,21.405,4.585,28.818,11.998l0.047,0.048c7.413,7.412,11.998,17.628,11.998,28.818\t\t\t\tv29.46c0,6.295-5.108,11.403-11.404,11.403h-0.309H70.323c-6.296,0-11.404-5.108-11.404-11.403v-0.285v-29.175\t\t\t\tc0-11.166,4.585-21.406,11.998-28.818l0.048-0.048C78.377,107.694,88.616,103.108,99.782,103.108L99.782,103.108z\t\t\t\t M630.056,125.916H99.782c-4.965,0-9.503,2.02-12.734,5.274L87,131.238c-3.255,3.23-5.274,7.745-5.274,12.734v18.056h566.361\t\t\t\tv-18.056c0-4.965-2.02-9.503-5.273-12.734l-0.049-0.048C639.536,127.936,635.021,125.916,630.056,125.916z\"/>\t\t</g>\t</g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>Delete</button>\r\n                <button class='movies__update' data-id=${movie.id}><svg xmlns=\"http://www.w3.org/2000/svg\"  viewBox=\"0 0 50 50\" width=\"15px\" height=\"15px\"><path d=\"M 43.125 2 C 41.878906 2 40.636719 2.488281 39.6875 3.4375 L 38.875 4.25 L 45.75 11.125 C 45.746094 11.128906 46.5625 10.3125 46.5625 10.3125 C 48.464844 8.410156 48.460938 5.335938 46.5625 3.4375 C 45.609375 2.488281 44.371094 2 43.125 2 Z M 37.34375 6.03125 C 37.117188 6.0625 36.90625 6.175781 36.75 6.34375 L 4.3125 38.8125 C 4.183594 38.929688 4.085938 39.082031 4.03125 39.25 L 2.03125 46.75 C 1.941406 47.09375 2.042969 47.457031 2.292969 47.707031 C 2.542969 47.957031 2.90625 48.058594 3.25 47.96875 L 10.75 45.96875 C 10.917969 45.914063 11.070313 45.816406 11.1875 45.6875 L 43.65625 13.25 C 44.054688 12.863281 44.058594 12.226563 43.671875 11.828125 C 43.285156 11.429688 42.648438 11.425781 42.25 11.8125 L 9.96875 44.09375 L 5.90625 40.03125 L 38.1875 7.75 C 38.488281 7.460938 38.578125 7.011719 38.410156 6.628906 C 38.242188 6.246094 37.855469 6.007813 37.4375 6.03125 C 37.40625 6.03125 37.375 6.03125 37.34375 6.03125 Z\"/></svg>Update</button>\r\n                <button class='movies__edit' data-id=${movie.id}><svg xmlns=\"http://www.w3.org/2000/svg\"  viewBox=\"0 0 50 50\" width=\"15px\" height=\"15px\"><path d=\"M 43.125 2 C 41.878906 2 40.636719 2.488281 39.6875 3.4375 L 38.875 4.25 L 45.75 11.125 C 45.746094 11.128906 46.5625 10.3125 46.5625 10.3125 C 48.464844 8.410156 48.460938 5.335938 46.5625 3.4375 C 45.609375 2.488281 44.371094 2 43.125 2 Z M 37.34375 6.03125 C 37.117188 6.0625 36.90625 6.175781 36.75 6.34375 L 4.3125 38.8125 C 4.183594 38.929688 4.085938 39.082031 4.03125 39.25 L 2.03125 46.75 C 1.941406 47.09375 2.042969 47.457031 2.292969 47.707031 C 2.542969 47.957031 2.90625 48.058594 3.25 47.96875 L 10.75 45.96875 C 10.917969 45.914063 11.070313 45.816406 11.1875 45.6875 L 43.65625 13.25 C 44.054688 12.863281 44.058594 12.226563 43.671875 11.828125 C 43.285156 11.429688 42.648438 11.425781 42.25 11.8125 L 9.96875 44.09375 L 5.90625 40.03125 L 38.1875 7.75 C 38.488281 7.460938 38.578125 7.011719 38.410156 6.628906 C 38.242188 6.246094 37.855469 6.007813 37.4375 6.03125 C 37.40625 6.03125 37.375 6.03125 37.34375 6.03125 Z\"/></svg>Edit</button>\r\n            </div>\r\n        </li>\r\n    `)\r\n});\r\n\r\nrenderMovie();\r\n\r\ndocument.querySelector('.movies').addEventListener('click', (e) => e.target.closest('.movies__del') !== null ? delMovieFetch(e.target.dataset.id).then(delMovie => renderMovie()) : null);\r\n\r\ndocument.querySelector('.addMovies__button').addEventListener('click', (e) => {\r\n    e.preventDefault();\r\n    if (document.querySelector('.addMovies').checkValidity()) {\r\n        getMovieFetch().then(movies => addMovieFetch({\r\n            title: document.querySelector('.addMovies__title').value,\r\n            year: Number(document.querySelector('.addMovies__year').value),\r\n            director: document.querySelector('.addMovies__director').value,\r\n            genre: document.querySelector('.addMovies__genre').value,\r\n            id: String(movies.length + 1)\r\n        }).then(() => renderMovie()));\r\n    }\r\n    else {\r\n        document.querySelector('.addMovies').reportValidity();\r\n    }\r\n});\r\n\r\ndocument.querySelector('.movies').addEventListener('click', (e) => e.target.closest('.movies__update') !== null ? (document.querySelector('.updateMovies__form').setAttribute('data-id', e.target.dataset.id), document.querySelector('.backdrop[data-overlay-updateMovie]').classList.toggle('is-hidden')) : null);\r\n\r\ndocument.querySelector('.updateMovies__button').addEventListener('click', (e) => {\r\n    e.preventDefault()\r\n    if (document.querySelector('.updateMovies__form').checkValidity()) {\r\n        updateMovieFetch(document.querySelector('.updateMovies__form').dataset.id, {\r\n            year: Number(document.querySelector('.updateMovies__year').value),\r\n            title: document.querySelector('.updateMovies__titl').value,\r\n            director: document.querySelector('.updateMovies__director').value,\r\n            genre: document.querySelector('.updateMovies__genre').value,\r\n        }).then(() => (renderMovie(), document.querySelector('.updateMovies__form').removeAttribute('data-id'), document.querySelector('.backdrop[data-overlay-updateMovie]').classList.toggle('is-hidden')));\r\n    }\r\n    else {\r\n        document.querySelector('.updateMovies__form').reportValidity();\r\n    }\r\n});\r\n\r\ndocument.querySelector('.updateMovies__close[data-close-updateMovie]').addEventListener('click', (e) => (document.querySelector('.updateMovies__form').removeAttribute('data-id'), document.querySelector('.backdrop[data-overlay-updateMovie]').classList.toggle('is-hidden')));\r\n\r\ndocument.querySelector('.movies').addEventListener('click', (e) => e.target.closest('.movies__edit') !== null ? (document.querySelector('.editMovies__form').setAttribute('data-id', e.target.dataset.id), document.querySelector('.backdrop[data-overlay-editMovie]').classList.toggle('is-hidden')) : null);\r\n\r\ndocument.querySelector('.editMovies__button').addEventListener('click', (e) => {\r\n    e.preventDefault()\r\n    if (document.querySelector('.editMovies__form').checkValidity()) {\r\n        const data = {\r\n            year: Number(document.querySelector('.editMovies__year').value),\r\n            title: document.querySelector('.editMovies__titl').value,\r\n            director: document.querySelector('.editMovies__director').value,\r\n            genre: document.querySelector('.editMovies__genre').value,\r\n        }\r\n        const editData = {}\r\n        Object.keys(data).forEach(key => data[key] ? editData[key] = data[key] : null)\r\n        editMovieFetch(document.querySelector('.editMovies__form').dataset.id, editData).then(() => (renderMovie(), document.querySelector('.editMovies__form').removeAttribute('data-id'), document.querySelector('.backdrop[data-overlay-editMovie]').classList.toggle('is-hidden')));\r\n    }\r\n    else {\r\n        document.querySelector('.editMovies__form').reportValidity();\r\n    }\r\n});\r\n\r\ndocument.querySelector('.editMovies__close[data-close-editMovie]').addEventListener('click', (e) => (document.querySelector('.editMovies__form').removeAttribute('data-id'), document.querySelector('.backdrop[data-overlay-editMovie]').classList.toggle('is-hidden')));","export const getMovieFetch = () => fetch('http://localhost:1488/movies').then(response => !response.ok ? console.error(`Error get movies, status code ${response.status}`) : response.json());\r\nexport const delMovieFetch = (id) => fetch(`http://localhost:1488/movies/${id}`, { method: \"DELETE\" }).then(response => !response.ok ? console.error(`Error del movie, status code ${response.status}`) : response.json());\r\nexport const addMovieFetch = (newMovie) => fetch(`http://localhost:1488/movies/`, { method: \"POST\", body: JSON.stringify(newMovie) }).then(response => !response.ok ? console.error(`Error add movie, status code ${response.status}`) : response.json())\r\nexport const updateMovieFetch = (id, updateMovie) => fetch(`http://localhost:1488/movies/${id}`, { method: \"PUT\", body: JSON.stringify(updateMovie) }).then(response => !response.ok ? console.error(`Error update movie, status code ${response.status}`) : response.json());\r\nexport const editMovieFetch = (id, editMovie) => fetch(`http://localhost:1488/movies/${id}`, { method: \"PATCH\", body: JSON.stringify(editMovie) }).then(response => !response.ok ? console.error(`Error edit movie, status code ${response.status}`) : response.json())"],"names":["$3442c778297ac6a6$export$59b84cfd1d3e3025","fetch","then","response","ok","json","console","error","status","$3442c778297ac6a6$export$a37e7f0c1a4cec52","id","method","$3442c778297ac6a6$export$cf3d6842122c45b6","newMovie","body","JSON","stringify","$3442c778297ac6a6$export$e186af2ba2027272","updateMovie","$3442c778297ac6a6$export$7da0fb1ed463fb17","editMovie","$164cf12502b3ee95$var$renderMovie","movies","document","querySelector","innerHTML","forEach","movie","title","year","director","genre","addEventListener","e","target","closest","dataset","delMovie","preventDefault","checkValidity","value","Number","String","length","reportValidity","setAttribute","classList","toggle","removeAttribute","data","editData","Object","keys","key"],"version":3,"file":"index.b6af7ebe.js.map"}